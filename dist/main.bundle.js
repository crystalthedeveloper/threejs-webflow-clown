(()=>{var e,a,t,r,n,i,o,s=!1,p={},c=new THREE.Vector3(0,1,5),l=null,d=!1;function w(e){i&&p[e]&&l!==e&&(i.stopAllAction(),l=e,p[e].reset().play(),s="walk"===e)}function h(){requestAnimationFrame(h);var p,l=o.getDelta();i&&i.update(l),s&&n&&(p=n.position,a.position.set(p.x+c.x,p.y+c.y,p.z+c.z),a.lookAt(p)),r.update(),t.render(e,a)}function E(){var e=document.getElementById("threejs-container");if(e){var r=e.clientWidth,n=e.clientHeight;t.setSize(r,n),a.aspect=r/n,a.updateProjectionMatrix()}}!function(){var s=document.getElementById("threejs-container");if(s){(t=new THREE.WebGLRenderer({antialias:!1})).setPixelRatio(Math.min(window.devicePixelRatio,2)),t.setSize(window.innerWidth,window.innerHeight),t.shadowMap.enabled=!0,t.shadowMap.type=THREE.PCFSoftShadowMap,s.appendChild(t.domElement),(a=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,-1,5),(e=new THREE.Scene).background=new THREE.Color(0);var c=new THREE.TextureLoader,l=c.load("https://threejs-webflow-clown.vercel.app/public/textures/aerial_rocks_02_diff_2k.jpg");l.wrapS=l.wrapT=THREE.RepeatWrapping,l.repeat.set(50,50);var m=c.load("https://threejs-webflow-clown.vercel.app/public/textures/aerial_rocks_02_rough_2k.jpg");m.wrapS=m.wrapT=THREE.RepeatWrapping,m.repeat.set(100,100);var u=c.load("https://threejs-webflow-clown.vercel.app/public/textures/aerial_rocks_02_nor_gl_2k.exr");u.wrapS=u.wrapT=THREE.RepeatWrapping,u.repeat.set(100,100);var R=c.load("https://threejs-webflow-clown.vercel.app/public/textures/aerial_rocks_02_disp_2k.png");R.wrapS=R.wrapT=THREE.RepeatWrapping,R.repeat.set(100,100);var g=new THREE.MeshStandardMaterial({map:l,roughnessMap:m,normalMap:u,displacementMap:R,displacementScale:.1,roughness:.8,metalness:0}),v=new THREE.Mesh(new THREE.PlaneGeometry(2e3,2e3,512,512),g);v.receiveShadow=!0,v.rotation.x=-Math.PI/2,e.add(v),o=new THREE.Clock;var T=new THREE.GLTFLoader,b=new THREE.DRACOLoader;b.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),T.setDRACOLoader(b),T.load("https://threejs-webflow-clown.vercel.app/public/clownV.glb",(function(a){var t,o;(n=a.scene).position.set(0,.02,0),n.scale.set(1.5,1.5,1.5),n.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.material&&e.material.isMeshStandardMaterial&&(e.material.roughness=.6,e.material.metalness=.2))})),i=new THREE.AnimationMixer(n),a.animations.forEach((function(e){var a=e.name.toLowerCase();p[a]=i.clipAction(e)})),d=!0,w("idle"),e.add(n),r.target.set(0,1.5,0),r.update(),t=document.querySelectorAll("section[id]"),o=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting&&d)switch(e.target.id){case"hero":w("idle");break;case"hello":w("hello");break;case"dance-wrapper":w("break");break;case"capabilities-wrapper":w("walk");break;case"services-wrapper":w("pose");break;case"testimonials":w("thanks");break;case"contactForm":w("phone")}}))}),{rootMargin:"0px 0px -100px 0px",threshold:.1}),t.forEach((function(e){o.observe(e)}))})),(r=new THREE.OrbitControls(a,t.domElement)).enableDamping=!0,r.dampingFactor=.25,r.minDistance=5,r.maxDistance=20,r.maxPolarAngle=Math.PI/2;var H=new THREE.DirectionalLight(16777215,4);H.position.set(5,10,10),H.castShadow=!0,H.shadow.mapSize.set(1024,1024),e.add(H),e.add(new THREE.HemisphereLight(16777215,4473924,.8));var f=new THREE.RectAreaLight(16777215,2.5,5,5);f.position.set(0,5,10),f.rotation.y=Math.PI,e.add(f),e.add(new THREE.AmbientLight(16777215,.3)),h(),window.addEventListener("resize",E)}}()})();